Object.extend(RegionUpdater.prototype,{update:function(){if(this.regions[this.countryEl.value]){var option,region,def;def=this.regionSelectEl.getAttribute("defaultValue"),this.regionTextEl&&(def||(def=this.regionTextEl.value.toLowerCase()),this.regionTextEl.value=""),this.regionSelectEl&&this.regionSelectEl.value&&!def&&(def=this.regionSelectEl.value),this.regionSelectEl.options.length=1;for(var regionId in this.regions[this.countryEl.value])region=this.regions[this.countryEl.value][regionId],option=document.createElement("OPTION"),option.value=regionId,option.text=region.name.stripTags(),option.title=region.name,this.regionSelectEl.options.add?this.regionSelectEl.options.add(option):this.regionSelectEl.appendChild(option),(regionId===def||region.name&&region.name.toLowerCase()===def||region.name&&region.code.toLowerCase()===def)&&(this.regionSelectEl.value=regionId);"hide"===this.disableAction?(this.regionTextEl&&(this.regionTextEl.style.display="none"),this.regionSelectEl.style.display="",this.regionSelectEl.up(".gravdept-select").style.display=""):"disable"===this.disableAction&&(this.regionTextEl&&(this.regionTextEl.disabled=!0),this.regionSelectEl.disabled=!1,this.regionSelectEl.up(".gravdept-select").removeClassName("gravdept-select--disabled")),this.setMarkDisplay(this.regionSelectEl,!0)}else"hide"===this.disableAction?(this.regionTextEl&&(this.regionTextEl.style.display=""),this.regionSelectEl.style.display="none",this.regionSelectEl.up(".gravdept-select").style.display="none",Validation.reset(this.regionSelectEl)):"disable"===this.disableAction?(this.regionTextEl&&(this.regionTextEl.disabled=!1),this.regionSelectEl.disabled=!0,this.regionSelectEl.up(".gravdept-select").addClassName("gravdept-select--disabled")):"nullify"===this.disableAction&&(this.regionSelectEl.options.length=1,this.regionSelectEl.value="",this.regionSelectEl.selectedIndex=0,this.lastCountryId=""),this.setMarkDisplay(this.regionSelectEl,!1);this._checkRegionRequired();var zipUpdater=new ZipUpdater(this.countryEl.value,this.zipEl);zipUpdater.update()}});